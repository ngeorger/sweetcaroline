!function(){"use strict";window.cakeciousPro={$canvas:document.getElementById("canvas"),$page:document.getElementById("page"),initStickyHeaders:function(){var t=document.querySelector(".cakecious-header-main .cakecious-header-sticky"),i=document.querySelector(".cakecious-header-mobile .cakecious-header-sticky"),e=0,s=0,o=!1,n=function(n){var l,r;if(cakeciousConfig.breakpoints.desktop<=window.innerWidth?(l=t,r=cakeciousProConfig.stickyHeader):(l=i,r=cakeciousProConfig.stickyMobileHeader),l&&r&&cakeciousHelper.isVisible(l)&&!o){o=!0;var a,u,d,c=cakeciousHelper.getOffset(window.cakeciousPro.$page).top,k=window.pageYOffset,y=l.querySelector(".cakecious-section-inner"),f=parseFloat(r.normalHeight),p=parseFloat(r.stickyHeight),g=l.classList.contains("cakecious-section-contained")?Math.min(l.offsetWidth,parseFloat(r.containedWidth)):l.offsetWidth,w=cakeciousHelper.getOffset(l).left+(l.offsetWidth-g)/2,h=r.stickyDisplay,v=cakeciousHelper.getOffset(l).top-c,S=y.querySelector(".cakecious-sticky-logo");switch(S&&(a=parseFloat(r.logoNormalWidth),u=parseFloat(r.logoStickyWidth),d=S.querySelector(".cakecious-logo-image")),h){case"on-scroll-up":if(s!==window.cakeciousPro.$page.offsetHeight)l.classList.remove("cakecious-sticky"),l.classList.remove("cakecious-sticky-in-view"),y.style.cssText="";else if(k>e)l.classList.contains("cakecious-sticky")&&(l.classList.remove("cakecious-sticky"),y.style.top=(e+c-cakeciousHelper.getOffset(l).top).toString()+"px",y.style.left=0,y.style.position="absolute",y.style.width="100%",y.style.height=p.toString()+"px",d&&(d.style.width=u.toString()+"px")),l.classList.contains("cakecious-sticky-in-view")&&k>cakeciousHelper.getOffset(y).top+p&&l.classList.remove("cakecious-sticky-in-view");else if(k<e)if(l.classList.contains("cakecious-sticky")){if(k<=v)l.classList.remove("cakecious-sticky"),l.classList.remove("cakecious-sticky-in-view"),y.style.top=null,y.style.left=null,y.style.position=null,y.style.height=null,y.style.width=null,d&&(d.style.width=null);else if(k<v+(f-p)){var m=Math.max(p,f-(k-v));if(y.style.height=m.toString()+"px",d){var H=a-(f!==p?(f-m)/(f-p):1)*(a-u);d.style.width=H.toString()+"px"}}}else l.classList.contains("cakecious-sticky-in-view")?k<cakeciousHelper.getOffset(y).top-c&&(l.classList.add("cakecious-sticky"),y.style.top=c.toString()+"px",y.style.left=w.toString()+"px",y.style.position=null,y.style.width=g.toString()+"px",y.style.height=p.toString()+"px",d&&(d.style.width=u.toString()+"px")):k>v+f&&(l.classList.add("cakecious-sticky-in-view"),y.style.top=(k-p-v).toString()+"px",y.style.left=0,y.style.position="absolute",y.style.width="100%",y.style.height=p.toString()+"px",d&&(d.style.width=u.toString()+"px"));break;case"fixed":if(k>v){m=Math.max(p,f-(k-v));if(l.classList.add("cakecious-sticky"),l.classList.add("cakecious-sticky-in-view"),y.style.top=c.toString()+"px",y.style.left=w.toString()+"px",y.style.width=g.toString()+"px",y.style.height=m.toString()+"px",d){H=a-(f!==p?(f-m)/(f-p):1)*(a-u);d.style.width=H.toString()+"px"}}else l.classList.contains("cakecious-sticky")&&(l.classList.remove("cakecious-sticky"),l.classList.remove("cakecious-sticky-in-view"),y.style.top=null,y.style.height=null,y.style.left=null,y.style.width=null,d&&(d.style.width=null))}e=k,s=window.cakeciousPro.$page.offsetHeight,o=!1}};(t||i)&&(window.addEventListener("resize",n,!1),window.addEventListener("scroll",n,!1),window.addEventListener("load",n,!1),n())},initStickySidebar:function(){var t=document.querySelector("#secondary.cakecious-sidebar-sticky");if(t){var i=t.querySelector(".sidebar-inner"),e=0,s=0,o="top";void 0!==cakeciousProConfig.stickySidebar&&(e=parseFloat(cakeciousProConfig.stickySidebar.spacingTop)||0,s=parseFloat(cakeciousProConfig.stickySidebar.spacingBottom)||0,o=cakeciousProConfig.stickySidebar.anchor||"top");var n=function(n){if(l(),!(window.innerWidth<cakeciousConfig.breakpoints.desktop)){var r,a,u=cakeciousHelper.getOffset(window.cakeciousPro.$page).top,d=window.pageYOffset,c=u+e;switch(cakeciousProConfig.stickyHeader&&(c+=cakeciousProConfig.stickyHeader.stickyHeight),i.style.width=t.offsetWidth+"px",cakeciousHelper.getOffset(i).top+i.offsetHeight<window.innerHeight&&(o="top"),o){case"bottom":r=cakeciousHelper.getOffset(i).top+i.offsetHeight-window.innerHeight+s,a=cakeciousHelper.getOffset(t).top+t.offsetHeight-window.innerHeight+s,console.log(r),d>=r?(t.classList.add("cakecious-sticky"),d>=a?(i.style.position="absolute",i.style.bottom=0):(i.style.position="fixed",i.style.bottom=s+"px")):t.classList.remove("cakecious-sticky");break;case"top":default:r=cakeciousHelper.getOffset(t).top-c,a=cakeciousHelper.getOffset(t).top+t.offsetHeight-i.offsetHeight-c,d>=r?(t.classList.add("cakecious-sticky"),d>=a?(i.style.position="absolute",i.style.bottom=0):(i.style.position="fixed",i.style.top=c+"px")):t.classList.remove("cakecious-sticky")}}},l=function(){i.style.position=null,i.style.width=null,i.style.top=null,i.style.bottom=null};window.addEventListener("resize",n,!1),window.addEventListener("scroll",n,!1),window.addEventListener("load",n,!1),n()}},initFeaturedPosts:function(){var t=document.getElementById("cakecious-featured-posts");if(t&&t.classList.contains("cakecious-featured-posts-tiny-slider")){if("undefined"==typeof tns)return;if(void 0===cakeciousProConfig.blogFeaturedPosts.tinySlider)return;var i=JSON.parse(cakeciousProConfig.blogFeaturedPosts.tinySlider);i.container=t.querySelector(".cakecious-featured-posts-list"),i.controlsContainer=t.querySelector(".cakecious-featured-posts-navigation"),i.nav=!1,i.speed=250,i.autoplayButtonOutput=!1;tns(i)}},initAll:function(){window.cakeciousPro.initStickyHeaders(),window.cakeciousPro.initStickySidebar(),window.cakeciousPro.initFeaturedPosts()}},document.addEventListener("DOMContentLoaded",window.cakeciousPro.initAll,!1)}();