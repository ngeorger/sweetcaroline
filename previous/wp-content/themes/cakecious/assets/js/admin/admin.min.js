!function(a){"use strict";a(window),a(document);var t=a("body");a((function(){t.on("click",".cakecious-admin-upload-control-button",(function(t){t.preventDefault();var i=a(this).closest(".cakecious-admin-upload-control"),e=i.find("input"),n=i.data("wpmedia");if(n)n.open();else{var c={title:i.attr("data-title"),button:{text:i.attr("data-button")},multiple:!1};""!==i.attr("data-library")&&(c.library={type:i.attr("data-library").split(",")}),(n=wp.media.frames.file_frame=wp.media(c)).on("select",(function(){var a=n.state().get("selection").first().toJSON();e.val(a.url)})),n.open(),i.data("wpmedia",n)}})),a.fn.select2&&a(".cakecious-admin-multiselect-control").select2(),a.fn.wpColorPicker&&a(".cakecious-admin-color-control").find("input").wpColorPicker(),t.on("change",".cakecious-admin-dependent-field",(function(){var t=a(this),i=a('[data-dependency="'+t.attr("name")+'"]'),e=this.value;i.hide(),i.each((function(){var t,i=a(this);switch(t=-1<i.attr("data-value").split(",").indexOf(e),i.attr("data-operator")){case"!=":t||i.show();break;default:t&&i.show()}}))})),a(".cakecious-admin-dependent-field").trigger("change"),a(".cakecious-admin-metabox").each((function(){var t=a(this),i=t.find(".cakecious-admin-metabox-nav"),e=t.find(".cakecious-admin-metabox-panels");i.on("click",".cakecious-admin-metabox-nav-item a",(function(t){t.preventDefault();var n=a(this),c=e.children(n.attr("href"));c&&!c.hasClass("active")&&(i.children(".cakecious-admin-metabox-nav-item.active").removeClass("active"),n.parent(".cakecious-admin-metabox-nav-item").addClass("active"),e.children(".cakecious-admin-metabox-panel.active").removeClass("active"),c.addClass("active"))})),t.trigger("cakecious-admin-metabox.ready",this)})),a(".cakecious-rating-notice").on("click",".cakecious-rating-notice-close",(function(t){var i=a(this),e=i.closest(".cakecious-rating-notice"),n=i.attr("data-cakecious-rating-notice-repeat");a.ajax({method:"POST",dataType:"JSON",url:ajaxurl,data:{action:"cakecious_rating_notice_close",repeat_after:n}}),e.fadeTo(100,0,(function(){e.slideUp(100,(function(){e.remove()}))}))})),a(".cakecious-admin-install-sites-import-plugin-button").on("click",(function(t){var i=a(this);return i.prop("disabled","disabled"),i.addClass("disabled"),i.html(CakeciousAdminData.strings.installing),a.ajax({method:"POST",dataType:"JSON",url:ajaxurl+"?do=cakecious_install_sites_import_plugin",cache:!1,data:{action:"cakecious_install_sites_import_plugin",plugin_slug:"cakecious-sites-import",_ajax_nonce:CakeciousAdminData.ajax_nonce}}).done((function(a,t,e){a.success?(i.html(CakeciousAdminData.strings.redirecting_to_demo_list),window.location=CakeciousAdminData.sitesImportPageURL):alert(CakeciousAdminData.strings.error_installing_plugin)}))}))}))}(jQuery);