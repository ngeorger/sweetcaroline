!function(g){g.fn.twentytwenty=function(m){m=g.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},m);return this.each(function(){var e=m.default_offset_pct,n=g(this),a=m.orientation,t="vertical"===a?"down":"left",i="vertical"===a?"up":"right";n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>"),m.no_overlay||n.append("<div class='twentytwenty-overlay'></div>");var o=n.find("img:first"),s=n.find("img:last");n.append("<div class='twentytwenty-handle'></div>");var r=n.find(".twentytwenty-handle");r.append("<span class='twentytwenty-"+t+"-arrow'></span>"),r.append("<span class='twentytwenty-"+i+"-arrow'></span>"),n.addClass("twentytwenty-container"),o.addClass("twentytwenty-before"),s.addClass("twentytwenty-after");var c=n.find(".twentytwenty-overlay");c.append("<div class='twentytwenty-before-label' data-content='"+m.before_label+"'></div>"),c.append("<div class='twentytwenty-after-label' data-content='"+m.after_label+"'></div>");var l=function(t){var e=function(t){var e=o.width(),n=o.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}}(t);r.css("vertical"===a?"top":"left","vertical"===a?e.ch:e.cw),function(t){"vertical"===a?(o.css("clip","rect(0,"+t.w+","+t.ch+",0)"),s.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(o.css("clip","rect(0,"+t.cw+","+t.h+",0)"),s.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),n.css("height",t.h)}(e)},d=function(t,e){return function(t,e,n){return Math.max(e,Math.min(n,t))}("vertical"===a?(e-f)/p:(t-w)/v,0,1)};g(window).on("resize.twentytwenty",function(t){l(e)});var w=0,f=0,v=0,p=0,y=function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a&&t.preventDefault(),n.addClass("active"),w=n.offset().left,f=n.offset().top,v=o.width(),p=o.height()},h=function(t){n.hasClass("active")&&(e=d(t.pageX,t.pageY),l(e))},u=function(){n.removeClass("active")},_=m.move_with_handle_only?r:n;_.on("movestart",y),_.on("move",h),_.on("moveend",u),m.move_slider_on_hover&&(n.on("mouseenter",y),n.on("mousemove",h),n.on("mouseleave",u)),r.on("touchmove",function(t){t.preventDefault()}),n.find("img").on("mousedown",function(t){t.preventDefault()}),m.click_to_move&&n.on("click",function(t){w=n.offset().left,f=n.offset().top,v=o.width(),p=o.height(),e=d(t.pageX,t.pageY),l(e)}),g(window).trigger("resize.twentytwenty")})}}(jQuery);